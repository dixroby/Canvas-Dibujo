(this["webpackJsonpmy-pro"]=this["webpackJsonpmy-pro"]||[]).push([[0],{209:function(e,t,n){"use strict";n.r(t);var o,r,i,c,a,s,l,f,d,u,h,p,x,b,j,g,v,y,w,O,m,k,X,Y,C,E,T=n(0),M=n(81),R=n.n(M),D=(n(95),n(96),n(5)),S=n(6),I=n(11),L=S.a.div(o||(o=Object(D.a)(['\n  font-family: sans-serif;\n  border-radius: 5px;\n  user-select: none;\n  background: white;\n  position: relative;\n  padding: 10px 10px 10px 0;\n  display: grid;\n  margin-top: 20px;\n  justify-items: center;\n  grid-template-columns: 134px auto;\n  grid-template-rows: 30px 40px auto;\n\n  grid-template-areas:\n    "her  sizes"\n    "her  rotater"\n    "her  canva";\n']))),z=S.a.div(r||(r=Object(D.a)(["\n  grid-area: canva;\n  position: relative;\n  margin: auto;\n  border: 1px solid;\n  margin: auto;\n"]))),P=S.a.canvas(i||(i=Object(D.a)(["\n  position: relative;\n  z-index: 5;\n"]))),F=S.a.canvas(c||(c=Object(D.a)(["\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  z-index: 7;\n  touch-action: none;\n"]))),N=S.a.div(a||(a=Object(D.a)(["\n  grid-area: her;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  margin: 0 60px 10px 10px;\n  align-self: start;\n  justify-content: center;\n  align-items: center;\n"]))),A=S.a.div(s||(s=Object(D.a)(["\n  border-bottom: 5px solid;\n  border-right: 5px solid;\n  border-radius: 4px;\n"]))),q=S.a.a(l||(l=Object(D.a)(["\n  height: 25px;\n  line-height: 24px;\n  text-decoration: none;\n  cursor: pointer;\n  background: rgba(55, 55, 55, 1);\n  padding: 1px 5px;\n  color: white;\n  margin: 5px 0 0 0;\n  font-size: 17px;\n  border-radius: 4px;\n  &:hover {\n    background: rgba(30, 100, 50, 0.8);\n  }\n"]))),U=Object(S.a)(I.a)(f||(f=Object(D.a)(["\n  font-size: 2em;\n  pointer-events: none;\n"]))),W=S.a.label(d||(d=Object(D.a)(["\n  height: 30px;\n  width: 34px;\n  position: relative;\n  cursor: pointer;\n  border: 5px solid;\n  border-color: transparent;\n  margin: 2px;\n  padding: 5px;\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &:hover {\n    background: #daf7a6;\n  }\n"]))),B=S.a.input(u||(u=Object(D.a)(["\n  display: none;\n\n  &:checked + "," {\n    border-color: gray;\n  }\n"])),W),J=S.a.div(h||(h=Object(D.a)(["\n  touch-action: none;\n  display: flex;\n  flex-direction: row;\n  height: 50px;\n  width: 497px;\n  transform: rotate(90deg);\n  position: absolute;\n  left: -145.5px;\n  top: 233px;\n  border: 1px solid;\n  border-radius: 3px;\n"]))),H=S.a.div(p||(p=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  div {\n    pointer-events: none;\n    text-align: center;\n    line-height: 30px;\n    color: white;\n    position: absolute;\n    width: 30px;\n    height: 30px;\n    background: #4479bd;\n    border-radius: 50%;\n    top: 10.5px;\n    transform: rotate(-90deg);\n  }\n  input {\n    flex: 3;\n    margin-left: 10px;\n    margin-top: 2px;\n  }\n"]))),V=S.a.div(x||(x=Object(D.a)(["\n  width: 20%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),G=S.a.div(b||(b=Object(D.a)(['\n  grid-area: sizes;\n  width: 100%;\n  min-width: 300px;\n  height: 100%;\n  background: black;\n  display: flex;\n  overflow: hidden;\n  border-radius: 3px;\n  label {\n    display: block;\n    background: white;\n    width: 25%;\n    height: 92%;\n    border: 1px solid;\n    line-height: 29px;\n    text-align: center;\n    font-size: 20px;\n    font-weight: 800;\n  }\n  input[type="number"]::-webkit-inner-spin-button,\n  input[type="number"]::-webkit-outer-spin-button {\n    opacity: 1;\n    height: 30px;\n  }\n  input {\n    width: 25%;\n    height: 81%;\n    font-size: 15px;\n    font-weight: 600;\n    line-height: 25px;\n    outline: none;\n    text-align: center;\n  }\n']))),K=S.a.div(j||(j=Object(D.a)(["\n  position: relative;\n  grid-area: rotater;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: space-between;\n  label {\n    font-size: 20px;\n    font-weight: 800;\n    align-items: center;\n    display: none;\n  }\n  input {\n    margin-left: 10px;\n  }\n"]))),Q=S.a.div(g||(g=Object(D.a)(["\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n"]))),Z=S.a.div(v||(v=Object(D.a)(["\n  position: absolute;\n  z-index: 50;\n  top: -270px;\n  cursor: crosshair;\n"]))),$=S.a.div(y||(y=Object(D.a)(["\n  height: 30px;\n  width: 34px;\n  margin: 2px;\n  padding: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  touch-action: none;\n  position: relative;\n  border: 5px solid;\n  border-color: transparent;\n  cursor: pointer;\n\n  &:hover {\n    background: #daf7a6;\n  }\n"]))),_=S.a.div(w||(w=Object(D.a)(["\n  left: 0;\n  top: 0;\n  position: absolute;\n  pointer-events: none;\n  display: none;\n  touch-action: none;\n"]))),ee=S.a.div(O||(O=Object(D.a)(["\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  background: white;\n  width: auto;\n  height: auto;\n  z-index: 20;\n  border: 1px solid;\n  border-radius: 12px;\n  cursor: pointer;\n  pointer-events: auto;\n"]))),te=Object(S.a)(I.a)(m||(m=Object(D.a)(["\n  font-size: 20px;\n  pointer-events: none;\n"]))),ne=S.a.button(k||(k=Object(D.a)(["\n  width: 70px;\n  height: 24px;\n  text-align: center;\n  position: absolute;\n  left: 50%;\n  top: 10px;\n  transform: translateX(-35px);\n  display: none;\n"]))),oe=S.a.div(X||(X=Object(D.a)(["\n  width: 100%;\n  height: 30px;\n  background: white;\n  position: absolute;\n  top: 242px;\n  left: 0px;\n  box-shadow: rgb(0 0 0 / 30%) 0px 0px 2px, rgb(0 0 0 / 30%) 0px 4px 8px;\n"]))),re=S.a.div(Y||(Y=Object(D.a)(["\n  position: absolute;\n  left: 195px;\n  top: 6px;\n  cursor: pointer;\n"]))),ie=S.a.input(C||(C=Object(D.a)(["\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  top: 5px;\n  left: 125px;\n"]))),ce=S.a.label(E||(E=Object(D.a)(["\n  position: absolute;\n  top: 5px;\n  left: 75px;\n"])));function ae(e,t){var n,o;if(e.targetTouches){var r=t.getBoundingClientRect();n=Math.round(e.targetTouches[0].pageX-r.left),o=Math.round(e.targetTouches[0].pageY-r.top)}else n=e.nativeEvent.offsetX,o=e.nativeEvent.offsetY;return{offsetX:n,offsetY:o}}function se(e,t,n){var o,r;t>n?(o=3*t*-1,r=3*t):(o=3*n*-1,r=3*n),e.clearRect(0,0,o,r),e.clearRect(0,0,r,o),e.clearRect(0,0,o,o),e.clearRect(0,0,r,r)}function le(e){var t=e.x,n=e.y,o=e.pI,r=e.ctx2,i=e.width,c=e.height;!function(e,t,n,o,r,i,c){var a=.5522848,s=n/2*a,l=o/2*a,f=e+n,d=t+o,u=e+n/2,h=t+o/2;se(r,i,c),r.beginPath(),r.moveTo(e,h),r.bezierCurveTo(e,h-l,u-s,t,u,t),r.bezierCurveTo(u+s,t,f,h-l,f,h),r.bezierCurveTo(f,h+l,u+s,d,u,d),r.bezierCurveTo(u-s,d,e,h+l,e,h),r.stroke()}(o[0].offsetX,o[0].offsetY,t-o[0].offsetX,n-o[0].offsetY,r,i,c)}function fe(e){var t=e.x,n=e.y,o=e.pI,r=e.ctx2,i=e.width,c=e.height;o.push({offsetX:t,offsetY:n}),r.clearRect(0,0,i,c),r.beginPath();for(var a=1;a<o.length-2;a++){var s=(o[a].offsetX+o[a+1].offsetX)/2,l=(o[a].offsetY+o[a+1].offsetY)/2;r.quadraticCurveTo(o[a].offsetX,o[a].offsetY,s,l)}r.stroke()}function de(e,t,n){e.style.cursor="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='128'%3E%3Ccircle cx='64' cy='64' r='".concat("1"===n?.5:(n-1)/2,"' stroke='black' fill='").concat(t,"'%3E%3C/circle%3E%3C/svg%3E\") 64 64,\n  crosshair")}function ue(e,t){e.style.cursor="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Ccircle cx='40' cy='20' r='18' stroke='red' stroke-width='4' fill='white'/%3E%3Ccircle cx='40' cy='20' r='16' stroke='blue' stroke-width='2' fill='".concat(t,"'/%3E%3Cpolygon points='0,60 21,27 27,35' style='fill:blue;stroke:red;stroke-width:1' /%3E%3C/svg%3E\") 0 60,\n  crosshair")}function he(e,t,n){var o=e.width,r=e.data;return{r:r[4*(o*n+t)+0],g:r[4*(o*n+t)+1],b:r[4*(o*n+t)+2],a:r[4*(o*n+t)+3]/255}}function pe(e,t,n,o){var r,i,c=he(e,t,n),a=function(e){var t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);return{r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}}(o);return i=a,(r=c).r===i.r&&r.g===i.g&&r.b===i.b&&r.a===i.a}function xe(e){var t,n=e.evt,o=e.drawings,r=e.canvas2,i=ae(n,r),c=i.offsetX,a=i.offsetY,s=he(o[o.length-1],c,a),l="rgba(".concat(s.r,",").concat(s.g,",").concat(s.b,",").concat(s.a,")");return t=l,ue(r,l),t}var be=n(12),je=n(4),ge=n(1),ve=function(e){var t=e.clickArrow,n=e.draw,o=e.finishDrawing;return Object(ge.jsxs)("div",{children:[Object(ge.jsx)(ee,{id:"leftUp",onPointerDown:t,onTouchMove:n,onTouchEnd:o,style:{left:"0",top:"0",transform:"rotate(315deg) translateX(4px)  translateY(-9px)"},children:Object(ge.jsx)(te,{icon:je.d})}),Object(ge.jsx)(ee,{style:{left:"50%",top:"0%",transform:"translateX(-5px) translateY(-10px) "},id:"up",onPointerDown:t,onTouchMove:n,onTouchEnd:o,children:Object(ge.jsx)(te,{icon:je.d})}),Object(ge.jsx)(ee,{id:"rightUp",onPointerDown:t,onTouchMove:n,onTouchEnd:o,style:{left:"100%",top:"0%",transform:"rotate(45deg) translateX(-12px) translateY(-1px)"},children:Object(ge.jsx)(te,{icon:je.d})}),Object(ge.jsx)(ee,{id:"right",onPointerDown:t,onTouchMove:n,onTouchEnd:o,style:{left:"100%",top:"50%",transform:"rotate(90deg) translateX(-10px) translateY(4px)"},children:Object(ge.jsx)(te,{icon:je.d})}),Object(ge.jsx)(ee,{id:"rightDown",onPointerDown:t,onTouchMove:n,onTouchEnd:o,style:{left:"100%",top:"100%",transform:"rotate(135deg) translateX(-5px) translateY(14px)"},children:Object(ge.jsx)(te,{icon:je.d})}),Object(ge.jsx)(ee,{id:"down",onPointerDown:t,onTouchMove:n,onTouchEnd:o,style:{left:"50%",top:"100%",transform:"rotate(180deg) translateX(5px) translateY(10px)"},children:Object(ge.jsx)(te,{icon:je.d})}),Object(ge.jsx)(ee,{id:"leftDown",onPointerDown:t,onTouchMove:n,onTouchEnd:o,style:{left:"0",top:"100%",transform:"rotate(225deg) translateX(12px) translateY(6px)"},children:Object(ge.jsx)(te,{icon:je.d})}),Object(ge.jsx)(ee,{id:"left",onPointerDown:t,onTouchMove:n,onTouchEnd:o,style:{left:"0",top:"50%",transform:"rotate(270deg) translateX(9px) translateY(-7px)"},children:Object(ge.jsx)(te,{icon:je.d})}),Object(ge.jsx)(ee,{id:"center",onPointerDown:t,onTouchMove:n,onTouchEnd:o,style:{left:"50%",top:"50%",transform:"translateX(-11px) translateY(-11px) "},children:Object(ge.jsx)(te,{icon:je.c})})]})},ye=function(e){var t=e.clickArrow,n=e.draw,o=e.finishDrawing;return Object(ge.jsxs)("div",{children:[Object(ge.jsx)(ee,{id:"centerC",onPointerDown:t,onTouchMove:n,onTouchEnd:o,style:{left:"0%",top:"0%",transform:"translateX(-11px) translateY(-12px) "},children:Object(ge.jsx)(te,{icon:je.c})}),Object(ge.jsx)(ee,{id:"rightC",onPointerDown:t,onTouchMove:n,onTouchEnd:o,style:{left:"100%",top:"0%",transform:"rotate(90deg) translateX(-11.5px) translateY(4px)"},children:Object(ge.jsx)(te,{icon:je.d})})]})},we=function(e){var t=e.clickArrow,n=e.draw,o=e.finishDrawing;return Object(ge.jsxs)("div",{children:[Object(ge.jsx)(ee,{id:"centerL",onPointerDown:t,onTouchMove:n,onTouchEnd:o,style:{transform:"translateX(-11px) translateY(-11px) "},children:Object(ge.jsx)(te,{icon:je.c})}),Object(ge.jsx)(ee,{id:"inicio",onPointerDown:t,onTouchMove:n,onTouchEnd:o,style:{transform:"translateX(-11px) translateY(-11px)"},children:Object(ge.jsx)(te,{icon:je.c})}),Object(ge.jsx)(ee,{id:"final",onPointerDown:t,onTouchMove:n,onTouchEnd:o,style:{transform:"translateX(-11px) translateY(-11px) "},children:Object(ge.jsx)(te,{icon:je.c})})]})},Oe=function(e){var t=e.startDrawing,n=e.finishDrawing,o=e.draw,r=e.rotate,i=e.leave,c=e.toEnter,a=e.inRotation,s=e.setSizes,l=e.setElements,f=e.goBack,d=e.goForward,u=e.clickArrow,h=e.clickEdit,p=Object(T.useRef)(null),x=Object(T.useRef)(null),b=Object(T.useRef)(null),j=Object(T.useRef)(null),g=Object(T.useRef)(null),v=Object(T.useRef)(null),y=Object(T.useState)(400),w=Object(be.a)(y,2),O=w[0],m=w[1],k=Object(T.useState)(420),X=Object(be.a)(k,2),Y=X[0],C=X[1];return Object(T.useEffect)((function(){x.current=p.current.getContext("2d"),j.current=b.current.getContext("2d"),g.current.children[2].children[0].value=0,l({c1:p.current,c2:b.current,cotx1:x.current,cotx2:j.current,rotatorRef:g.current,arrowsRef:v.current})}),[l]),Object(T.useEffect)((function(){p.current.width=O,p.current.height=Y,p.current.style.width="".concat(O,"px"),p.current.style.height="".concat(Y,"px"),b.current.width=O,b.current.height=Y,b.current.style.width="".concat(O,"px"),b.current.style.height="".concat(Y,"px"),b.current.parentNode.style.height="".concat(Y,"px"),j.current.lineCap="round",j.current.lineJoin="round",s({w:O,h:Y})}),[O,Y,s]),Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)(G,{children:[Object(ge.jsx)("label",{htmlFor:"width",children:"Ancho"}),Object(ge.jsx)("input",{id:"width",onChange:function(e){var t=e.target;if(t.value>3e3)return a(),void m(3e3);a(),m(t.value)},type:"number",value:O,step:10,min:0,max:3e3}),Object(ge.jsx)("label",{htmlFor:"hight",children:"Alto"}),Object(ge.jsx)("input",{id:"hight",onChange:function(e){var t=e.target;if(t.value>3e3)return a(),void C(3e3);a(),C(t.value)},type:"number",value:Y,step:10,min:0,max:3e3})]}),Object(ge.jsxs)(K,{ref:g,children:[Object(ge.jsx)(ne,{onClick:h,children:"EDITAR"}),Object(ge.jsx)(q,{onClick:f,children:Object(ge.jsx)(I.a,{style:{fontSize:"25px"},icon:je.a})}),Object(ge.jsxs)("label",{children:["ROTAR",Object(ge.jsx)("input",{type:"range",min:"-180",max:"180",onChange:r})]}),Object(ge.jsx)(q,{onClick:d,children:Object(ge.jsx)(I.a,{style:{fontSize:"25px"},icon:je.b})})]}),Object(ge.jsxs)(z,{onMouseLeave:i,onMouseEnter:c,children:[Object(ge.jsxs)(_,{ref:v,children:[Object(ge.jsx)(ve,{clickArrow:u,draw:o,finishDrawing:n}),Object(ge.jsx)(ye,{clickArrow:u,draw:o,finishDrawing:n})]}),Object(ge.jsx)(_,{children:Object(ge.jsx)(we,{clickArrow:u,draw:o,finishDrawing:n})}),Object(ge.jsx)(P,{ref:p}),Object(ge.jsx)(F,{ref:b,onTouchStart:t,onTouchEnd:n,onTouchMove:o,onMouseDown:t,onMouseUp:n,onMouseMove:o})]})]})},me=function(e){var t=e.lineWidth,n=Object(T.useState)(3),o=Object(be.a)(n,2),r=o[0],i=o[1];return Object(T.useEffect)((function(){t(r)}),[r,t]),Object(ge.jsxs)(J,{children:[Object(ge.jsxs)(H,{children:[Object(ge.jsx)("input",{type:"range",onChange:function(e){var t=e.target;i(t.value)},min:"1",max:"30",value:r}),Object(ge.jsx)("div",{style:{left:"".concat(13*(r-1),"px"),pointerEvents:"none"},children:r})]}),Object(ge.jsx)(V,{children:Object(ge.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:30,height:30,children:Object(ge.jsx)("circle",{cx:15,cy:15,r:r/2})})})]})},ke=n(90),Xe=function(e){var t,n,o,r,i=e.funcColor,c=e.type,a=void 0===c?"pencil":c,s=e.dropper,l=e.moveColor,f=Object(T.useRef)(!0),d=Object(T.useRef)(!1),u=Object(T.useRef)(!1),h=Object(T.useRef)(null),p=Object(T.useState)({r:0,g:0,b:0,a:1}),x=Object(be.a)(p,2),b=x[0],j=x[1],g=Object(T.useState)(!1),v=Object(be.a)(g,2),y=v[0],w=v[1];var O="rgba(".concat(b.r,",").concat(b.g,",").concat(b.b,",").concat(b.a,")");function m(e){l(!0),o=h.current.children[0].offsetLeft,r=h.current.children[0].offsetTop,u.current=!0,e.targetTouches?(window.addEventListener("touchmove",k),window.addEventListener("touchend",X),t=e.targetTouches[0].clientX,n=e.targetTouches[0].clientY):(window.addEventListener("mousemove",k),window.addEventListener("mouseup",X),t=e.clientX,n=e.clientY)}function k(e){var i,c;!0===d.current&&(!0===u.current&&(e.targetTouches?(i=t-e.targetTouches[0].clientX,c=n-e.targetTouches[0].clientY):(i=t-e.clientX,c=n-e.clientY),h.current.children[0].style.left="".concat(o-i,"px"),h.current.children[0].style.top="".concat(r-c,"px")))}function X(e){l(!1),e.targetTouches?(window.removeEventListener("touchmove",k),window.removeEventListener("touchend",X)):(window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",X)),u.current=!1}return Object(T.useEffect)((function(){h.current.parentNode.children[0].style.color="".concat(O),i({Ccolor:O}),"pencil"===a&&(h.current.parentNode.parentNode.style.borderColor="".concat(O))}),[i,O,a]),Object(T.useEffect)((function(){"fill"===a&&i({Ccolor:"rgba(255,255,255,1)"}),h.current.parentNode.parentNode.children[0].click()}),[]),Object(ge.jsx)(Q,{onClick:function(){"fill"===a&&h.current.parentNode.previousSibling.click(),f.current=!0,!1===d.current&&(h.current.style.width="300%"),"pencil"===a&&!0===h.current.parentNode.previousSibling.previousSibling.checked&&h.current.parentNode.parentNode.children[0].click(),w(!0)},onMouseLeave:function(){!0!==d.current&&(w(!1),h.current.style.width="100%")},ref:h,children:y&&Object(ge.jsxs)(Z,{onTouchEnd:function(){!0!==d.current&&!1===f.current&&w(!1)},onTouchMove:function(){f.current=!1},children:[Object(ge.jsx)(ke.a,{color:b,onChange:function(e){return j(e.rgb)}}),",",Object(ge.jsxs)(oe,{children:[Object(ge.jsx)(re,{style:{left:"5px",display:"none"},onMouseDown:m,onTouchStart:m,children:Object(ge.jsx)(I.a,{icon:je.c})}),Object(ge.jsx)(ie,{type:"checkbox",id:"fixe",onChange:function(e){!1===d.current?(e.target.previousSibling.style.display="block",h.current.style.width="100%",d.current=!0):(e.target.previousSibling.style.display="none",d.current=!1)}}),Object(ge.jsx)(ce,{htmlFor:"fixe",children:"FIJAR"}),Object(ge.jsx)(re,{onMouseUp:function(){s(h.current,a),w(!1)},children:Object(ge.jsx)(I.a,{icon:je.f})})]})]})})},Ye=n(32),Ce=Object(ge.jsx)("svg",{style:{pointerEvents:"none"},xmlns:"http://www.w3.org/2000/svg",height:"100%",width:"100%",children:Object(ge.jsx)("ellipse",{cx:"50%",cy:"50%",rx:"46%",ry:"35%",stroke:"black",strokeWidth:"3",fill:"transparent"})}),Ee=function(e){var t=e.inRotation,n=e.change,o=e.lineColor,r=e.clearAll,i=e.downloadImg,c=e.getFillColor,a=e.dropper,s=e.moveColor;function l(e){e.target.previousSibling.click()}return Object(ge.jsxs)(N,{onClick:t,children:[Object(ge.jsxs)(A,{children:[Object(ge.jsx)(B,{type:"radio",id:"normal",name:"type",onChange:n}),Object(ge.jsx)(W,{onClick:l,children:Object(ge.jsx)(U,{icon:je.i})}),Object(ge.jsx)(B,{type:"radio",id:"straightLine",name:"type",onChange:n}),Object(ge.jsx)(W,{onClick:l,children:Object(ge.jsx)(U,{icon:je.j})}),Object(ge.jsx)(B,{type:"radio",id:"circle",name:"type",onChange:n}),Object(ge.jsx)(W,{onClick:l,children:Object(ge.jsx)(U,{icon:Ye.a})}),Object(ge.jsx)(B,{type:"radio",id:"square",name:"type",onChange:n}),Object(ge.jsx)(W,{onClick:l,children:Object(ge.jsx)(U,{icon:Ye.c})}),Object(ge.jsx)(B,{type:"radio",id:"ellipse",name:"type",onChange:n}),Object(ge.jsx)(W,{onClick:l,children:Ce}),Object(ge.jsx)(B,{type:"radio",id:"eraser",name:"type",onChange:n}),Object(ge.jsx)(W,{onClick:l,children:Object(ge.jsx)(U,{icon:je.e})}),Object(ge.jsx)(B,{type:"radio",id:"filled",name:"type",onChange:n}),Object(ge.jsxs)(W,{children:[Object(ge.jsx)(U,{icon:je.g}),Object(ge.jsx)(Xe,{funcColor:c,dropper:a,moveColor:s,type:"fill"})]}),Object(ge.jsxs)($,{children:[Object(ge.jsx)(U,{icon:je.h}),Object(ge.jsx)(Xe,{funcColor:o,dropper:a,moveColor:s,type:"pencil"})]})]}),Object(ge.jsx)(q,{onClick:r,children:"Limpiar"}),Object(ge.jsx)(q,{style:{height:"33px"},onClick:i,download:!0,children:Object(ge.jsx)(U,{icon:Ye.b})})]})},Te=n(89);function Me(e,t,n,o,r){var i,c,a=Math.abs(n),s=Math.sin(a*(Math.PI/180)),l=Math.cos(a*(Math.PI/180));return o-=e,r-=t,n>0?(i=o*l-r*s,c=o*s+r*l):(i=o*l+r*s,c=-o*s+r*l),{rx:o=i+e,ry:r=c+t}}var Re=function(){var e,t,n,o,r,i,c,a,s,l,f,d,u,h,p,x,b,j,g,v,y,w,O,m,k,X=Object(T.useRef)(null),Y=[],C=[],E=[],M=!1,R=!1,D=!1,S=!1,I=!1,z=!0,P="normal",F=0,N=0,A=!1,q=!1,U=!1,W="up",B=!1;function J(e){if(e){d=e,v.lineWidth=d;var t=Math.round(100*window.devicePixelRatio-100),n=parseFloat(d)+d*t/100;x=n>128?128:n}d&&de(j,"eraser"===P?"white":u,x)}function H(e){var t=e.Ccolor;u=t,v.strokeStyle=u,de(j,u,x)}function V(e){var t=e.Ccolor;ue(j,h=t)}function G(e){if(!U)if(!0!==A){e.targetTouches&&(z=!1),!0===S&&(Z(),S=!1,y.children[2].children[0].value=0);var t=ae(e,j),n=t.offsetX,o=t.offsetY;if("filled"===P){var r=g.getImageData(0,0,l,f);if(pe(r,n,o,h))z=!1;else{var i=new Te.a(r);i.fill(h,n,o,0),g.putImageData(i.imageData,0,0),z=!0}}else"normal"!==P&&"eraser"!==P||(C.push({offsetX:n,offsetY:o}),v.beginPath(),v.moveTo(n,o),v.lineTo(n,o),v.stroke()),R=!0;q=!1}else p=xe({evt:e,drawings:Y,canvas2:j})}function K(){if(U){if(O.style.opacity="1",O.style.zIndex="20",U=!1,0!==N){$(i,c,-r);var a=Me(i,c,N,E[0].offsetX,E[0].offsetY),s=a.rx,l=a.ry,f=Me(i,c,N,n,o);i=(s+f.rx)/2,c=(l+f.ry)/2;var d=-1*N,u=Me(i,c,d,s,l),h=Me(i,c,d,f.rx,f.ry);E=[{offsetX:u.rx,offsetY:u.ry}],n=h.rx,o=h.ry}else i=(E[0].offsetX+n)/2,c=(E[0].offsetY+o)/2;oe()}else{if(!0===A)return k.parentNode.children[0].style.color="".concat(p),"pencil"===m?(H({Ccolor:p}),k.parentNode.parentNode.style.borderColor="".concat(p)):V({Ccolor:p}),void(A=!1);!0===z?"straightLine"===P||"circle"===P||"square"===P||"ellipse"===P?!0===q&&(!function(){var r,a;"circle"===P||"straightLine"===P?(n=e,o=t,r=C[0].offsetX,a=C[0].offsetY):(C[0].offsetX<e?(r=C[0].offsetX,n=e):(r=e,n=C[0].offsetX),C[0].offsetY<t?(a=C[0].offsetY,o=t):(a=t,o=C[0].offsetY));E=[{offsetX:r,offsetY:a}],i=r+(n-r)/2,c=a+(o-a)/2}(),S=!0,y.children[0].style.display="flex"):Z():z=!0,R=!1}}function Q(e,t,n){var o={x:t,y:n,pI:e,ctx2:v,width:l,height:f},r={normal:function(){return fe(o)},straightLine:function(){return function(e){var t=e.x,n=e.y,o=e.pI,r=e.ctx2,i=e.width,c=e.height;r.clearRect(0,0,i,c),r.beginPath(),r.quadraticCurveTo(o[0].offsetX,o[0].offsetY,t,n),r.stroke()}(o)},circle:function(){return function(e){var t=e.x,n=e.y,o=e.pI,r=e.ctx2,i=e.width,c=e.height,a=Math.pow(t-o[0].offsetX,2),s=Math.pow(n-o[0].offsetY,2),l=Math.sqrt(a+s);r.clearRect(0,0,i,c),r.beginPath(),r.arc(o[0].offsetX,o[0].offsetY,l,0,2*Math.PI),r.stroke()}(o)},square:function(){return function(e){var t=e.x,n=e.y,o=e.pI,r=e.ctx2;se(r,e.width,e.height),r.beginPath(),r.rect(o[0].offsetX,o[0].offsetY,t-o[0].offsetX,n-o[0].offsetY),r.stroke()}(o)},ellipse:function(){return le(o)},eraser:function(){return fe(o)}},i=fe(o);r[P]&&r[P]()}function Z(){v.closePath(),"normal"!==P&&(y.children[0].style.display="none",y.children[2].style.display="none",w.style.display="none",w.nextSibling.style.display="none"),!0===M?(Y=[],M=!1):F>0&&(Y=Y.slice(0,Y.length-F)),g.drawImage(j,0,0,l,f),Y.push(g.getImageData(0,0,l,f)),v.clearRect(0,0,l,f),F=0,C=[],R=!1,S=!1,N=0}function $(e,t,n){v.translate(e,t),v.rotate(n),v.translate(-e,-t)}function _(){!0===S&&Z(),M=!1;var e=Y.length;e===F?g.clearRect(0,0,l,f):e===F+1?(g.clearRect(0,0,l,f),F+=1):(g.clearRect(0,0,l,f),e>1&&(F+=1,g.putImageData(Y[e-F-1],0,0)))}function ee(e){"Control"!==e.key?"z"===e.key&!0===I&&_():I=!0}function te(e){"Control"===e.key&&(I=!1)}function ne(){!0===S&&(Z(),y.children[2].children[0].value=0)}function oe(){if("straightLine"===P)return w.nextSibling.children[0].children[0].style.left="".concat(i,"px"),w.nextSibling.children[0].children[0].style.top="".concat(c,"px"),w.nextSibling.children[0].children[1].style.left="".concat(E[0].offsetX,"px"),w.nextSibling.children[0].children[1].style.top="".concat(E[0].offsetY,"px"),w.nextSibling.children[0].children[2].style.left="".concat(n,"px"),void(w.nextSibling.children[0].children[2].style.top="".concat(o,"px"));if("circle"===P){var e=Math.pow(n-E[0].offsetX,2),t=Math.pow(o-E[0].offsetY,2),r=Math.sqrt(e+t);w.style.width="".concat(r,"px")}else w.style.width="".concat(n-E[0].offsetX,"px"),w.style.height="".concat(o-E[0].offsetY,"px");w.style.transform="rotate(".concat(N,"deg)"),w.style.left="".concat(E[0].offsetX,"px"),w.style.top="".concat(E[0].offsetY,"px")}return window.addEventListener("resize",(function(){var e=Math.round(100*window.devicePixelRatio-100),t=parseFloat(d)+d*e/100;x=t>128?128:t,!1===A&&"filled"!==P&&J()})),document.addEventListener("mouseup",(function(){D=!1,U&&K()})),document.addEventListener("mousedown",(function(){D=!0})),Object(ge.jsxs)(L,{onMouseEnter:function(){document.addEventListener("keydown",ee),document.addEventListener("keyup",te)},onMouseLeave:function(){document.removeEventListener("keydown",ee),document.removeEventListener("keyup",te)},ref:X,children:[Object(ge.jsx)(Oe,{startDrawing:G,finishDrawing:K,draw:function(r){if(q=!0,U){var l=ae(r,j),f=l.offsetX,d=l.offsetY,u=function(e){var t,n,o,r=e.ptI,i=e.cx,c=e.cy,a=e.offsetX,s=e.offsetY,l=e.rotatedValue,f=e.arrowType,d=e.pFx,u=e.pFy,h=e.halfWidth,p=e.halfHeight,x=-1*l;switch(f){case"leftUp":if(0!==l){var b=Me(i,c,x,a,s),j=b.rx,g=b.ry;g>u&&(g=u),j>d&&(j=d),t=d,n=u,o=[{offsetX:j,offsetY:g}]}else s>u&&(s=u),a>d&&(a=d),t=d,n=u,o=[{offsetX:a,offsetY:s}];break;case"up":if(0!==l){var v=Me(i,c,x,a,s).ry;v>u&&(v=u),t=d,n=u,o=[{offsetX:r[0].offsetX,offsetY:v}]}else s>u&&(s=u),t=d,n=u,o=[{offsetX:r[0].offsetX,offsetY:s}];break;case"rightUp":if(0!==l){var y=Me(i,c,x,a,s),w=y.rx,O=y.ry;O>u&&(O=u),w<r[0].offsetX&&(w=r[0].offsetX),t=w,n=u,o=[{offsetX:r[0].offsetX,offsetY:O}]}else s>u&&(s=u),a<r[0].offsetX&&(a=r[0].offsetX),t=a,n=u,o=[{offsetX:r[0].offsetX,offsetY:s}];break;case"right":if(0!==l){var m=Me(i,c,x,a,s).rx;m<r[0].offsetX&&(m=r[0].offsetX),t=m,n=u,o=r}else a<r[0].offsetX&&(a=r[0].offsetX),t=a,n=u,o=r;break;case"rightDown":if(0!==l){var k=Me(i,c,x,a,s),X=k.rx,Y=k.ry;X<r[0].offsetX&&(X=r[0].offsetX),Y<r[0].offsetY&&(Y=r[0].offsetY),t=X,n=Y,o=r}else a<r[0].offsetX&&(a=r[0].offsetX),s<r[0].offsetY&&(s=r[0].offsetY),t=a,n=s,o=r;break;case"down":if(0!==l){var C=Me(i,c,x,a,s).ry;C<r[0].offsetY&&(C=r[0].offsetY),t=d,n=C,o=r}else s<r[0].offsetY&&(s=r[0].offsetY),t=d,n=s,o=r;break;case"leftDown":if(0!==l){var E=Me(i,c,x,a,s),T=E.rx,M=E.ry;T>d&&(T=d),M<r[0].offsetY&&(M=r[0].offsetY),t=d,n=M,o=[{offsetX:T,offsetY:r[0].offsetY}]}else a>d&&(a=d),s<r[0].offsetY&&(s=r[0].offsetY),t=d,n=s,o=[{offsetX:a,offsetY:r[0].offsetY}];break;case"left":if(0!==l){var R=Me(i,c,x,a,s).rx;R>d&&(R=d),t=d,n=u,o=[{offsetX:R,offsetY:r[0].offsetY}]}else s>u&&(s=u),a>d&&(a=d),t=d,n=u,o=[{offsetX:a,offsetY:r[0].offsetY}];break;case"center":if(0!==l){var D=Me(i,c,x,a,s),S=D.rx,I=D.ry;t=S+h,n=I+p,o=[{offsetX:S-h,offsetY:I-p}]}else t=a+h,n=s+p,o=[{offsetX:a-h,offsetY:s-p}];break;case"centerC":t=a+2*h,n=s+2*p,o=[{offsetX:a,offsetY:s}];break;case"rightC":a<r[0].offsetX&&(a=r[0].offsetX),s<r[0].offsetY&&(s=r[0].offsetY),t=a,n=r[0].offsetY,o=r;break;case"centerL":t=d+(a-i),n=u+(s-c),o=[{offsetX:r[0].offsetX+(a-i),offsetY:r[0].offsetY+(s-c)}];break;case"inicio":t=d,n=u,o=[{offsetX:a,offsetY:s}];break;case"final":t=a,n=s,o=[{offsetX:r[0].offsetX,offsetY:r[0].offsetY}];break;default:t=d,n=u,o=r}return{px:t,py:n,ptIn:o}}({ptI:E,cx:i,cy:c,offsetX:f,offsetY:d,rotatedValue:N,arrowType:W,pFx:n,pFy:o,halfWidth:a,halfHeight:s}),h=u.px,x=u.py,b=u.ptIn;return Q(E=b,n=h,o=x),void("straightLine"===P&&(i=E[0].offsetX+(n-E[0].offsetX)/2,c=E[0].offsetY+(o-E[0].offsetY)/2))}if(!0===A)p=xe({evt:r,drawings:Y,canvas2:j});else{if(z=!0,!1===R)return;var g=ae(r,j),v=g.offsetX,y=g.offsetY;Q(C,v,y),e=v,t=y}},rotate:function(e){e&&(N=e.target.value,r=N*Math.PI/180),v.clearRect(0,0,l,f),$(i,c,r),Q(E,n,o),$(i,c,-r),oe()},leave:function(){U||!1!==R&&K()},toEnter:function(e){if(!0===D){if(B||"filled"===P)return;G(e)}},inRotation:ne,setSizes:function(e){var t=e.w,n=e.h;l=t,f=n,u&&d&&(v.lineWidth=d,"eraser"===P?(v.strokeStyle="white",g.globalCompositeOperation="destination-out",de(j,"white",x)):v.strokeStyle=u),Y.length>0&&g.putImageData(Y[Y.length-F-1],0,0)},setElements:function(e){var t=e.c1,n=e.c2,o=e.cotx1,r=e.cotx2,i=e.rotatorRef,c=e.arrowsRef;b=t,j=n,g=o,v=r,y=i,w=c},goBack:_,goForward:function(){if(!0===S&&Z(),!1===M){var e=Y.length;F+1>1&&(M=!1,F-=1,g.putImageData(Y[e-F-1],0,0))}},clickArrow:function(e){a=(n-E[0].offsetX)/2,s=(o-E[0].offsetY)/2,U=!0,W=e.target.id,v.clearRect(0,0,l,f),0!==N&&$(i,c,r),Q(E,n,o),(O=e.target.parentNode.parentNode).style.opacity="0",O.style.zIndex="6"},clickEdit:function(){if(y.children[0].style.display="none",oe(),"straightLine"===P)return w.nextSibling.style.display="block",void(w.nextSibling.style.zIndex="20");"circle"===P?(w.children[0].style.display="none",w.children[1].style.display="block",w.style.border="none",w.style.borderTop="1px solid"):(w.children[0].style.display="block",w.children[1].style.display="none",y.children[2].style.display="flex",w.style.border="1px solid"),w.style.display="block",w.style.zIndex="20"}}),Object(ge.jsx)(me,{lineWidth:J}),Object(ge.jsx)(Ee,{inRotation:ne,change:function(e){var t=e.target;return"filled"===P&&(X.current.children[3].style.pointerEvents="auto"),"eraser"===P&&(g.globalCompositeOperation="source-over"),P=t.id,A=!1,"filled"===t.id?(X.current.children[3].style.pointerEvents="none",void ue(j,h)):"eraser"===t.id?(v.strokeStyle="white",g.globalCompositeOperation="destination-out",void de(j,"white",x)):void H({Ccolor:u})},getFillColor:V,lineColor:H,clearAll:function(){!0===S&&Z(),!1===M&&(M=!0,F-=1,v.clearRect(0,0,l,f),g.clearRect(0,0,l,f))},moveColor:function(e){B=e},downloadImg:function(e){!0===S&&Z();var t=b.toDataURL();e.target.setAttribute("href",t)},dropper:function(e,t){Y.length>0&&(A=!0),m=t,k=e}})]})};function De(){return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("h1",{className:"title",children:Object(ge.jsx)("a",{className:"title",href:"https://www.facebook.com/simonenrique.ramirezferrer",children:"Simon Enrique Ramirez Ferer"})}),Object(ge.jsx)(Re,{})]})}var Se=document.getElementById("root");R.a.render(Object(ge.jsx)(T.StrictMode,{children:Object(ge.jsx)(De,{})}),Se)},95:function(e,t,n){},96:function(e,t,n){}},[[209,1,2]]]);
//# sourceMappingURL=main.216509ce.chunk.js.map